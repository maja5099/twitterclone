<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/app.css">
    <link rel="icon" type="image/svg+xml" href="/images/favicon/favicon.svg">
    <link rel="icon" type="image/png" href="/images/favicon/favicon.png">
    <title>Twitter</title>
</head>
<body class="bg-black">
    <div id="overlay" class="hidden fixed top-0 bottom-0 left-0 right-0 w-screen h-screen bg-twitter-overlay bg-opacity-40 z-100">
        <div class="backdrop-blur-sm"></div>
    </div> 


    % include("signup")
    % include("login")
    % include("logout")
    <div class="md:max-w-3xl lg:max-w-screen-xl mx-auto">
        
        <div class="flex justify-center">
            <!-- left start -->
            % include("left")
            <!-- left end -->

            <!-- middle start -->
            <div class="border-x border-twitter-line w-full lg:w-600">
                % if get('user_cookie'):
                <!-- home start -->
                <div class="sticky bg-black bg-opacity-70 top-0 backdrop-blur-lg border-b border-twitter-line z-50">
                    <p id="lg_light_bold_txt" class="text-20 font-bold text-twitter-light-grey px-4 py-2.5">Home</p>
                    <div class="flex justify-around text-center">
                        <a id="sm_light_bold_txt" href="" class="text-15 font-bold text-twitter-light-grey w-full hover:bg-twitter-light-grey hover:bg-opacity-10 p-4 transition duration-200 ease-in-out"><span class="border-b-4 pb-3 border-twitter-blue">For you</span></a>
                        <a id="dark_semibold_txt" href="" class="text-15 font-semibold text-twitter-grey w-full hover:bg-twitter-light-grey hover:bg-opacity-10 p-4 transition duration-200 ease-in-out">Following</a>
                    </div>
                </div>
                <!-- home end -->

                <!-- what's happening start -->
                <div class="px-4 py-2">
                    <div class="inline-flex w-full gap-4">

                        <!-- user avatar start -->
                        <div class="grid place-items-start w-1/12">
                            <img src="/images/avatars/{{user_cookie['user_avatar']}}" class="w-12 rounded-full" alt="">
                        </div>
                        <!-- user avatar end -->
                        
                        <!-- tweet start -->
                        <div class="pt-3 w-11/12">
                            <input id="lg_light_txt" name="message" type="text" class="text-20 text-twitter-light-grey w-full placeholder-twitter-grey bg-inherit outline-none" placeholder="What's happening?"></input>
                            <img id="previewImage" class="hidden w-full" src="#" alt="Preview Image">
                            <!-- % include("tweet") -->

                            <!-- icons start -->
                            <div class="flex items-center pt-3"> 
                                <div class="flex">
                            <!-- media start -->
                            <div class="hover:bg-twitter-blue group text-twitter-blue hover:bg-opacity-15 rounded-full hover:cursor-pointer p-2 transition duration-200 ease-in-out">


                                <label>
                                    <input type="file" id="img" name="img" accept="image/*" class="hidden">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 3 5.5 C 3 4.119 4.119 3 5.5 3 h 13 C 19.881 3 21 4.119 21 5.5 v 13 c 0 1.381 -1.119 2.5 -2.5 2.5 h -13 C 4.119 21 3 19.881 3 18.5 v -13 Z M 5.5 5 c -0.276 0 -0.5 0.224 -0.5 0.5 v 9.086 l 3 -3 l 3 3 l 5 -5 l 3 3 V 5.5 c 0 -0.276 -0.224 -0.5 -0.5 -0.5 h -13 Z M 19 15.414 l -3 -3 l -5 5 l -3 -3 l -3 3 V 18.5 c 0 0.276 0.224 0.5 0.5 0.5 h 13 c 0.276 0 0.5 -0.224 0.5 -0.5 v -3.086 Z M 9.75 7 C 8.784 7 8 7.784 8 8.75 s 0.784 1.75 1.75 1.75 s 1.75 -0.784 1.75 -1.75 S 10.716 7 9.75 7 Z"/></svg>

                                <input class="hidden" type="submit">
                                </label>

                                </div>
                                <!-- media end -->

                                    <!-- gif start -->
                                    <div class="hover:bg-twitter-blue group text-twitter-blue hover:bg-opacity-15 rounded-full hover:cursor-pointer p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 3 5.5 C 3 4.119 4.12 3 5.5 3 h 13 C 19.88 3 21 4.119 21 5.5 v 13 c 0 1.381 -1.12 2.5 -2.5 2.5 h -13 C 4.12 21 3 19.881 3 18.5 v -13 Z M 5.5 5 c -0.28 0 -0.5 0.224 -0.5 0.5 v 13 c 0 0.276 0.22 0.5 0.5 0.5 h 13 c 0.28 0 0.5 -0.224 0.5 -0.5 v -13 c 0 -0.276 -0.22 -0.5 -0.5 -0.5 h -13 Z M 18 10.711 V 9.25 h -3.74 v 5.5 h 1.44 v -1.719 h 1.7 V 11.57 h -1.7 v -0.859 H 18 Z M 11.79 9.25 h 1.44 v 5.5 h -1.44 v -5.5 Z m -3.07 1.375 c 0.34 0 0.77 0.172 1.02 0.43 l 1.03 -0.86 c -0.51 -0.601 -1.28 -0.945 -2.05 -0.945 C 7.19 9.25 6 10.453 6 12 s 1.19 2.75 2.72 2.75 c 0.85 0 1.54 -0.344 2.05 -0.945 v -2.149 H 8.38 v 1.032 H 9.4 v 0.515 c -0.17 0.086 -0.42 0.172 -0.68 0.172 c -0.76 0 -1.36 -0.602 -1.36 -1.375 c 0 -0.688 0.6 -1.375 1.36 -1.375 Z"/></svg>
                                    </div>
                                    <!-- gif end -->
                                    
                                    <!-- poll start -->
                                    <div class="hover:bg-twitter-blue group text-twitter-blue hover:bg-opacity-15 rounded-full hover:cursor-pointer p-2 hidden lg:flex transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 6 5 c -1.1 0 -2 0.895 -2 2 s 0.9 2 2 2 s 2 -0.895 2 -2 s -0.9 -2 -2 -2 Z M 2 7 c 0 -2.209 1.79 -4 4 -4 s 4 1.791 4 4 s -1.79 4 -4 4 s -4 -1.791 -4 -4 Z m 20 1 H 12 V 6 h 10 v 2 Z M 6 15 c -1.1 0 -2 0.895 -2 2 s 0.9 2 2 2 s 2 -0.895 2 -2 s -0.9 -2 -2 -2 Z m -4 2 c 0 -2.209 1.79 -4 4 -4 s 4 1.791 4 4 s -1.79 4 -4 4 s -4 -1.791 -4 -4 Z m 20 1 H 12 v -2 h 10 v 2 Z M 7 7 c 0 0.552 -0.45 1 -1 1 s -1 -0.448 -1 -1 s 0.45 -1 1 -1 s 1 0.448 1 1 Z"/></svg>
                                    </div>
                                    <!-- poll end -->

                                    <!-- emoji start -->
                                    <div class="hover:bg-twitter-blue group text-twitter-blue hover:bg-opacity-15 rounded-full hover:cursor-pointer p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 8 9.5 C 8 8.119 8.672 7 9.5 7 S 11 8.119 11 9.5 S 10.328 12 9.5 12 S 8 10.881 8 9.5 Z m 6.5 2.5 c 0.828 0 1.5 -1.119 1.5 -2.5 S 15.328 7 14.5 7 S 13 8.119 13 9.5 s 0.672 2.5 1.5 2.5 Z M 12 16 c -2.224 0 -3.021 -2.227 -3.051 -2.316 l -1.897 0.633 c 0.05 0.15 1.271 3.684 4.949 3.684 s 4.898 -3.533 4.949 -3.684 l -1.896 -0.638 c -0.033 0.095 -0.83 2.322 -3.053 2.322 Z m 10.25 -4.001 c 0 5.652 -4.598 10.25 -10.25 10.25 S 1.75 17.652 1.75 12 S 6.348 1.75 12 1.75 S 22.25 6.348 22.25 12 Z m -2 0 c 0 -4.549 -3.701 -8.25 -8.25 -8.25 S 3.75 7.451 3.75 12 s 3.701 8.25 8.25 8.25 s 8.25 -3.701 8.25 -8.25 Z"/></svg>
                                    </div>
                                    <!-- emoji end -->

                                    <!-- schedule start -->
                                    <div class="hover:bg-twitter-blue group text-twitter-blue hover:bg-opacity-15 rounded-full hover:cursor-pointer p-2 hidden lg:flex transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 6 3 V 2 h 2 v 1 h 6 V 2 h 2 v 1 h 1.5 C 18.88 3 20 4.119 20 5.5 v 2 h -2 v -2 c 0 -0.276 -0.22 -0.5 -0.5 -0.5 H 16 v 1 h -2 V 5 H 8 v 1 H 6 V 5 H 4.5 c -0.28 0 -0.5 0.224 -0.5 0.5 v 12 c 0 0.276 0.22 0.5 0.5 0.5 h 3 v 2 h -3 C 3.12 20 2 18.881 2 17.5 v -12 C 2 4.119 3.12 3 4.5 3 H 6 Z m 9.5 8 c -2.49 0 -4.5 2.015 -4.5 4.5 s 2.01 4.5 4.5 4.5 s 4.5 -2.015 4.5 -4.5 s -2.01 -4.5 -4.5 -4.5 Z M 9 15.5 C 9 11.91 11.91 9 15.5 9 s 6.5 2.91 6.5 6.5 s -2.91 6.5 -6.5 6.5 S 9 19.09 9 15.5 Z m 5.5 -2.5 h 2 v 2.086 l 1.71 1.707 l -1.42 1.414 l -2.29 -2.293 V 13 Z"/></svg>
                                    </div>
                                    <!-- schedule end -->

                                    <!-- location start -->
                                    <div class="hover:bg-twitter-blue group text-twitter-blue opacity-50 hover:bg-opacity-15 rounded-full hover:cursor-pointer p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 12 7 c -1.93 0 -3.5 1.57 -3.5 3.5 S 10.07 14 12 14 s 3.5 -1.57 3.5 -3.5 S 13.93 7 12 7 Z m 0 5 c -0.827 0 -1.5 -0.673 -1.5 -1.5 S 11.173 9 12 9 s 1.5 0.673 1.5 1.5 S 12.827 12 12 12 Z m 0 -10 c -4.687 0 -8.5 3.813 -8.5 8.5 c 0 5.967 7.621 11.116 7.945 11.332 l 0.555 0.37 l 0.555 -0.37 c 0.324 -0.216 7.945 -5.365 7.945 -11.332 C 20.5 5.813 16.687 2 12 2 Z m 0 17.77 c -1.665 -1.241 -6.5 -5.196 -6.5 -9.27 C 5.5 6.916 8.416 4 12 4 s 6.5 2.916 6.5 6.5 c 0 4.073 -4.835 8.028 -6.5 9.27 Z"/></svg>
                                    </div>
                                    <!-- location end -->                    
                                </div>
                                <!-- icons end -->
                                
                                <button id="tweetButton" name="tweetButton" onclick="tweet()" class="text-15 font-bold px-4 py-1.5 rounded-full ml-auto text-twitter-light-grey bg-twitter-blue opacity-50">Tweet</button>
                            </div>
                        </div>
                        <!-- tweet end -->
                    </div>
                </div>
                <!-- what's happening end -->
                % else:
                <div class="p-4">
                    <h1 class="text-20 font-bold text-twitter-light-grey">Explore</h1>
                </div>
                % end
                <!-- tweet start -->
                % for index, user_and_tweet in enumerate(users_and_tweets):
                % if index != 0 or get ('user_cookie'):
                    % border_class = "border-t border-twitter-line px-4 py-3"                    
                % else:
                    % border_class = "px-4 py-3"
                % end
                <div class="{{border_class}}">
                    <div class="inline-flex w-full gap-3">

                        <!-- left (user avatar + data) start -->
                        <div class="grid place-items-start w-1/12">
                            <img class="w-12 rounded-full" src="/images/avatars/{{user_and_tweet['user_avatar']}}" alt="">
                        </div>
                        <!-- left (user avatar + data) end -->
                        
                        <!-- right start -->
                        <div class="w-11/12">

                            <!-- username + data start -->
                            <div class="w-full">
                                <div class="flex justify-between">
                                    <div class="inline-flex items-center gap-0.5 lg:gap-1">
                                        <a href="/{{user_and_tweet['user_name']}}">
                                        <p id="sm_light_bold_txt" class="text-15 font-bold text-twitter-light-grey hover:underline hover:cursor-pointer transition duration-200 ease-in-out">{{user_and_tweet["user_first_name"]}}&nbsp{{user_and_tweet["user_last_name"]}}</p>
                                        </a>
                                        
                                        % if user_and_tweet["user_verified"]:
                                        <div class="text-twitter-blue">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 20.396 11 c -0.018 -0.646 -0.215 -1.275 -0.57 -1.816 c -0.354 -0.54 -0.852 -0.972 -1.438 -1.246 c 0.223 -0.607 0.27 -1.264 0.14 -1.897 c -0.131 -0.634 -0.437 -1.218 -0.882 -1.687 c -0.47 -0.445 -1.053 -0.75 -1.687 -0.882 c -0.633 -0.13 -1.29 -0.083 -1.897 0.14 c -0.273 -0.587 -0.704 -1.086 -1.245 -1.44 S 11.647 1.62 11 1.604 c -0.646 0.017 -1.273 0.213 -1.813 0.568 s -0.969 0.854 -1.24 1.44 c -0.608 -0.223 -1.267 -0.272 -1.902 -0.14 c -0.635 0.13 -1.22 0.436 -1.69 0.882 c -0.445 0.47 -0.749 1.055 -0.878 1.688 c -0.13 0.633 -0.08 1.29 0.144 1.896 c -0.587 0.274 -1.087 0.705 -1.443 1.245 c -0.356 0.54 -0.555 1.17 -0.574 1.817 c 0.02 0.647 0.218 1.276 0.574 1.817 c 0.356 0.54 0.856 0.972 1.443 1.245 c -0.224 0.606 -0.274 1.263 -0.144 1.896 c 0.13 0.634 0.433 1.218 0.877 1.688 c 0.47 0.443 1.054 0.747 1.687 0.878 c 0.633 0.132 1.29 0.084 1.897 -0.136 c 0.274 0.586 0.705 1.084 1.246 1.439 c 0.54 0.354 1.17 0.551 1.816 0.569 c 0.647 -0.016 1.276 -0.213 1.817 -0.567 s 0.972 -0.854 1.245 -1.44 c 0.604 0.239 1.266 0.296 1.903 0.164 c 0.636 -0.132 1.22 -0.447 1.68 -0.907 c 0.46 -0.46 0.776 -1.044 0.908 -1.681 s 0.075 -1.299 -0.165 -1.903 c 0.586 -0.274 1.084 -0.705 1.439 -1.246 c 0.354 -0.54 0.551 -1.17 0.569 -1.816 Z M 9.662 14.85 l -3.429 -3.428 l 1.293 -1.302 l 2.072 2.072 l 4.4 -4.794 l 1.347 1.246 Z"/></svg>
                                        </div>
                                        % end
                                        
                                        <p id="dark_txt" class="text-15 text-twitter-grey">@{{user_and_tweet["user_name"]}}</p>
                                        <p id="dark_txt" class="text-15 text-twitter-grey">∙</p>
                                        <p id="dark_txt" class="tweet-time text-15 text-twitter-grey hover:underline hover:cursor-pointer transition duration-200 ease-in-out">{{user_and_tweet["tweet_created_at"]}}</p>
                                        
                                    </div>

                                    <!-- more start -->
                                    <div class="">
                                        <div class="relative">
                                            <div class="hover:bg-twitter-blue text-twitter-grey hover:text-twitter-blue hover:bg-opacity-15 rounded-full hover:cursor-pointer p-2 transition duration-200 ease-in-out">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 3 12 c 0 -1.1 0.9 -2 2 -2 s 2 0.9 2 2 s -0.9 2 -2 2 s -2 -0.9 -2 -2 Z m 9 2 c 1.1 0 2 -0.9 2 -2 s -0.9 -2 -2 -2 s -2 0.9 -2 2 s 0.9 2 2 2 Z m 7 0 c 1.1 0 2 -0.9 2 -2 s -0.9 -2 -2 -2 s -2 0.9 -2 2 s 0.9 2 2 2 Z"/></svg>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- more end -->
                                </div>
                            </div>

                            <!-- username + data end -->
                            <div>
                            <!-- tweet message start -->
                            <p id="sm_light_txt" class="text-15 text-twitter-light-grey word-wrap">{{user_and_tweet["tweet_message"]}}</p>                            <!-- tweet message end -->
                            % if user_and_tweet["tweet_image"]:
                            <!-- tweet image start -->
                            <div class="pt-3 pb-1">
                                <img class="max-h-80 w-full object-cover object-center rounded-2xl border border-twitter-line hover:cursor-pointer" src="images/tweet_images/{{user_and_tweet['tweet_image']}}" alt="">
                            </div>
                            <!-- tweet image end -->
                            % end
                            <!-- icons start -->
                            <div class="flex items-center justify-between text-twitter-light-grey md:w-10/12 lg:w-10/12">
                                <!-- comments start -->
                                <div class="flex items-center gap-0 lg:gap-1 group hover:cursor-pointer">
                                    <div class=" text-twitter-grey group-hover:bg-twitter-blue group-hover:bg-opacity-15 rounded-full p-2 group-hover:text-twitter-blue transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 1.751 10 c 0 -4.42 3.584 -8 8.005 -8 h 4.366 c 4.49 0 8.129 3.64 8.129 8.13 c 0 2.96 -1.607 5.68 -4.196 7.11 l -8.054 4.46 v -3.69 h -0.067 c -4.49 0.1 -8.183 -3.51 -8.183 -8.01 Z m 8.005 -6 c -3.317 0 -6.005 2.69 -6.005 6 c 0 3.37 2.77 6.08 6.138 6.01 l 0.351 -0.01 h 1.761 v 2.3 l 5.087 -2.81 c 1.951 -1.08 3.163 -3.13 3.163 -5.36 c 0 -3.39 -2.744 -6.13 -6.129 -6.13 H 9.756 Z"/></svg>
                                    </div>
                                    <span id="sm_dark_txt" class="tweet-number text-13 group-hover:text-twitter-blue text-twitter-grey">{{user_and_tweet["tweet_total_comments"]}}</span>
                                </div>
                                <!-- comments end -->

                                <!-- retweets start -->
                                <div class="flex items-center gap-0 lg:gap-1 group hover:cursor-pointer">
                                    <div class="group-hover:text-twitter-green text-twitter-grey group-hover:bg-twitter-green group-hover:bg-opacity-15 rounded-full p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 4.5 3.88 l 4.432 4.14 l -1.364 1.46 L 5.5 7.55 V 16 c 0 1.1 0.896 2 2 2 H 13 v 2 H 7.5 c -2.209 0 -4 -1.79 -4 -4 V 7.55 L 1.432 9.48 L 0.068 8.02 L 4.5 3.88 Z M 16.5 6 H 11 V 4 h 5.5 c 2.209 0 4 1.79 4 4 v 8.45 l 2.068 -1.93 l 1.364 1.46 l -4.432 4.14 l -4.432 -4.14 l 1.364 -1.46 l 2.068 1.93 V 8 c 0 -1.1 -0.896 -2 -2 -2 Z"/></svg>
                                    </div>
                                    <span id="sm_dark_txt" class="tweet-number text-13 group-hover:text-twitter-green text-twitter-grey">{{user_and_tweet["tweet_total_retweets"]}}</span>
                                </div>
                                <!-- retweets end -->

                                <!-- likes start -->
                                <div class="flex items-center gap-0 lg:gap-1 group hover:cursor-pointer">
                                    <div class="group-hover:text-twitter-red text-twitter-grey group-hover:bg-twitter-red group-hover:bg-opacity-15 rounded-full p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 16.697 5.5 c -1.222 -0.06 -2.679 0.51 -3.89 2.16 l -0.805 1.09 l -0.806 -1.09 C 9.984 6.01 8.526 5.44 7.304 5.5 c -1.243 0.07 -2.349 0.78 -2.91 1.91 c -0.552 1.12 -0.633 2.78 0.479 4.82 c 1.074 1.97 3.257 4.27 7.129 6.61 c 3.87 -2.34 6.052 -4.64 7.126 -6.61 c 1.111 -2.04 1.03 -3.7 0.477 -4.82 c -0.561 -1.13 -1.666 -1.84 -2.908 -1.91 Z m 4.187 7.69 c -1.351 2.48 -4.001 5.12 -8.379 7.67 l -0.503 0.3 l -0.504 -0.3 c -4.379 -2.55 -7.029 -5.19 -8.382 -7.67 c -1.36 -2.5 -1.41 -4.86 -0.514 -6.67 c 0.887 -1.79 2.647 -2.91 4.601 -3.01 c 1.651 -0.09 3.368 0.56 4.798 2.01 c 1.429 -1.45 3.146 -2.1 4.796 -2.01 c 1.954 0.1 3.714 1.22 4.601 3.01 c 0.896 1.81 0.846 4.17 -0.514 6.67 Z"/></svg>
                                    </div>
                                    <span id="sm_dark_txt" class="tweet-number text-13 group-hover:text-twitter-red text-twitter-grey">{{user_and_tweet["tweet_total_likes"]}}</span>
                                </div>
                                <!-- likes end -->
                                
                                <!-- views start -->
                                <div class="flex items-center gap-1 group hover:cursor-pointer">
                                    <div class="group-hover:text-twitter-blue text-twitter-grey group-hover:bg-twitter-blue group-hover:bg-opacity-15 rounded-full p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 8.75 21 V 3 h 2 v 18 h -2 Z M 18 21 V 8.5 h 2 V 21 h -2 Z M 4 21 l 0.004 -10 h 2 L 6 21 H 4 Z m 9.248 0 v -7 h 2 v 7 h -2 Z"/></svg>
                                    </div>
                                    <span id="sm_dark_txt" class="tweet-number text-13 group-hover:text-twitter-blue text-twitter-grey">{{user_and_tweet["tweet_total_views"]}}</span>
                                </div>
                                <!-- views end -->

                                <!-- share start -->
                                <div class="flex items-center group hover:cursor-pointer">
                                    <div class="group-hover:text-twitter-blue text-twitter-grey hover:bg-twitter-blue hover:bg-opacity-15 rounded-full p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 12 2.59 l 5.7 5.7 l -1.41 1.42 L 13 6.41 V 16 h -2 V 6.41 l -3.3 3.3 l -1.41 -1.42 L 12 2.59 Z M 21 15 l -0.02 3.51 c 0 1.38 -1.12 2.49 -2.5 2.49 H 5.5 C 4.11 21 3 19.88 3 18.5 V 15 h 2 v 3.5 c 0 0.28 0.22 0.5 0.5 0.5 h 12.98 c 0.28 0 0.5 -0.22 0.5 -0.5 L 19 15 h 2 Z"/></svg>
                                    </div>
                                </div>
                                <!-- share end -->
                            
                            </div>
                            <!-- icons end -->
                            </div>
                        </div>
                        <!-- right end -->
                    </div>
                </div>
                % end
                <!-- tweet end -->

            </div>
            <!-- middle end -->

            <!-- right start -->
            % include("right")
            <!-- right end -->

            % if not get('user_cookie'):
            % include("loginbanner")
            % end

        </div>
    </div>

<script>
    const imageInput = document.getElementById('img');
    const previewImage = document.getElementById('previewImage');
    const tweetButton = document.getElementById("tweetButton");
    if (imageInput) {
        imageInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            
            if (file) {
                const reader = new FileReader();
                
                reader.addEventListener('load', (readerEvent) => {
                    tweetButton.classList.remove("opacity-50")
                    previewImage.src = readerEvent.target.result;
                    previewImage.classList.remove('hidden');
                });
                
                reader.readAsDataURL(file);
            } else {
                previewImage.src = '#';
                previewImage.classList.add('hidden');
            }
        }); 
        
        const message = document.querySelector("input[name='message']");
        message.addEventListener("keypress", function() {
            tweetButton.classList.remove("opacity-50");
        })
    }
        
    async function tweet(){
        const message = document.querySelector("input[name='message']").value
        const picture = document.querySelector("input[name='img']").files[0]
        console.log("picture name", picture)
        console.log(message, "This is our tweet message")
        const formData = new FormData();
        
        formData.append("tweet_message", message);
        formData.append("picture", picture);

        const response = await fetch("/tweet", {
            method: "POST", 
            body: formData
        })
        
        const data = await response.json()
        console.log("This is the data", data)
        window.location.reload()
    }
</script>

<script src="/js/time.js"></script>
<script src="/js/numbers.js"></script>
</body>
</html>