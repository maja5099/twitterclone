<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/app.css">
    <link rel="icon" type="image/svg+xml" href="/images/favicon/favicon.svg">
    <link rel="icon" type="image/png" href="/images/favicon/favicon.png">
    <title>
        {{user["user_first_name"]}} {{user["user_last_name"]}} (@{{user["user_name"]}}) / {{title}}
    </title>
</head>

<body class="bg-black">
    <div id="overlay" class="hidden fixed top-0 bottom-0 left-0 right-0 w-screen h-screen bg-twitter-overlay bg-opacity-40 z-100"></div>
        <div class="backdrop-blur-sm"></div>
    </div> 

    % include("signup")
    % include("login")
    % include("logout")

    <div class="md:max-w-3xl lg:max-w-screen-xl mx-auto">
        <div class="flex justify-center text-twitter-light-grey">


            <!-- left start -->
            % include("left")
        
            <!-- left end -->

            <!-- middle start -->
            <div class="border-x border-twitter-line w-full lg:w-600">

                <!-- top start -->
                
                    <!-- arrow back, name and followers start -->
                    <div class="sticky bg-black bg-opacity-70 top-0 backdrop-blur-lg z-50">

                        <div class="flex items-center gap-7 px-2.5">
                            <!-- arrow back start -->
                            <a href="/">
                                <div class="hover:bg-twitter-light-grey text-twitter-light-grey w-fit hover:bg-opacity-10 rounded-full hover:cursor-pointer p-2 transition duration-200 ease-in-out">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 7.414 13 l 5.043 5.04 l -1.414 1.42 L 3.586 12 l 7.457 -7.46 l 1.414 1.42 L 7.414 11 H 21 v 2 H 7.414 Z"/></svg>
                                </div>
                            </a>
                            <!-- arrow back end -->

                            <!-- name + followers start -->
                            <div class="gap-1 py-0.5">
                                <div class="flex items-center">
                                    <h1 id="lg_light_bold_txt" class="text-20 font-bold text-twitter-light-grey">{{user["user_first_name"]}} {{user["user_last_name"]}}</h1>
                                    % if user["user_verified"] == 1:
                                    <div class="text-twitter-blue">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 20.396 11 c -0.018 -0.646 -0.215 -1.275 -0.57 -1.816 c -0.354 -0.54 -0.852 -0.972 -1.438 -1.246 c 0.223 -0.607 0.27 -1.264 0.14 -1.897 c -0.131 -0.634 -0.437 -1.218 -0.882 -1.687 c -0.47 -0.445 -1.053 -0.75 -1.687 -0.882 c -0.633 -0.13 -1.29 -0.083 -1.897 0.14 c -0.273 -0.587 -0.704 -1.086 -1.245 -1.44 S 11.647 1.62 11 1.604 c -0.646 0.017 -1.273 0.213 -1.813 0.568 s -0.969 0.854 -1.24 1.44 c -0.608 -0.223 -1.267 -0.272 -1.902 -0.14 c -0.635 0.13 -1.22 0.436 -1.69 0.882 c -0.445 0.47 -0.749 1.055 -0.878 1.688 c -0.13 0.633 -0.08 1.29 0.144 1.896 c -0.587 0.274 -1.087 0.705 -1.443 1.245 c -0.356 0.54 -0.555 1.17 -0.574 1.817 c 0.02 0.647 0.218 1.276 0.574 1.817 c 0.356 0.54 0.856 0.972 1.443 1.245 c -0.224 0.606 -0.274 1.263 -0.144 1.896 c 0.13 0.634 0.433 1.218 0.877 1.688 c 0.47 0.443 1.054 0.747 1.687 0.878 c 0.633 0.132 1.29 0.084 1.897 -0.136 c 0.274 0.586 0.705 1.084 1.246 1.439 c 0.54 0.354 1.17 0.551 1.816 0.569 c 0.647 -0.016 1.276 -0.213 1.817 -0.567 s 0.972 -0.854 1.245 -1.44 c 0.604 0.239 1.266 0.296 1.903 0.164 c 0.636 -0.132 1.22 -0.447 1.68 -0.907 c 0.46 -0.46 0.776 -1.044 0.908 -1.681 s 0.075 -1.299 -0.165 -1.903 c 0.586 -0.274 1.084 -0.705 1.439 -1.246 c 0.354 -0.54 0.551 -1.17 0.569 -1.816 Z M 9.662 14.85 l -3.429 -3.428 l 1.293 -1.302 l 2.072 2.072 l 4.4 -4.794 l 1.347 1.246 Z"/></svg>
                                    </div>
                                    % end
                                </div>
                                <div class="inline-flex">
                                    <p class="tweet-number text-13 text-twitter-grey">{{user["user_total_tweets"]}}</p>
                                    <p class="tweet-number text-13 text-twitter-grey">&nbsp;Tweets</p>
                                </div>
                            </div>
                            <!-- name + followers end -->
                        </div>
                    </div>
                    <!-- arrow back, name and followers end -->

                    <!-- cover + avatar start -->
                    <div>
                        <img class="" src="/images/covers/{{user['user_cover']}}" alt="">        
                        <div class="flex justify-between px-4">
                            <img class="rounded-full border-2 lg:border-4 border-black w-24 lg:w-36 -mt-12 lg:-mt-20" src="/images/avatars/{{user['user_avatar']}}" alt="">
                            <div class="flex items-center gap-2">
                                % if not get("user_cookie"):
                                <button class="p-2 ml-auto border hover:bg-twitter-dark-hover border-twitter-grey rounded-full font-semibold text-twitter-light-grey text-sm"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 3 12 c 0 -1.1 0.9 -2 2 -2 s 2 0.9 2 2 s -0.9 2 -2 2 s -2 -0.9 -2 -2 Z m 9 2 c 1.1 0 2 -0.9 2 -2 s -0.9 -2 -2 -2 s -2 0.9 -2 2 s 0.9 2 2 2 Z m 7 0 c 1.1 0 2 -0.9 2 -2 s -0.9 -2 -2 -2 s -2 0.9 -2 2 s 0.9 2 2 2 Z"/></svg></button>
                                <button onclick="loginModal()" class="px-4 py-1.5 ml-auto bg-twitter-light-grey rounded-full font-semibold text-twitter-dark-grey text-sm">Follow</button>
                                % elif user_cookie['user_name'] == user['user_name']:
                                <button onclick="updateModal()" class="px-4 py-1.5 ml-auto bg-twitter-light-grey rounded-full font-semibold text-twitter-dark-grey text-sm">Edit</button>
                                % else:
                                <button class="p-2 ml-auto border hover:bg-twitter-dark-hover border-twitter-grey rounded-full font-semibold text-twitter-light-grey text-sm"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 3 12 c 0 -1.1 0.9 -2 2 -2 s 2 0.9 2 2 s -0.9 2 -2 2 s -2 -0.9 -2 -2 Z m 9 2 c 1.1 0 2 -0.9 2 -2 s -0.9 -2 -2 -2 s -2 0.9 -2 2 s 0.9 2 2 2 Z m 7 0 c 1.1 0 2 -0.9 2 -2 s -0.9 -2 -2 -2 s -2 0.9 -2 2 s 0.9 2 2 2 Z"/></svg></button>
                                % if any(follow['followee_id'] == user['user_id'] for follow in following):
                                <button onclick="unfollow(this)" value="{{user['user_id']}}" class="follow px-4 py-1 ml-auto bg-twitter-light-grey rounded-full font-semibold text-twitter-dark-grey text-sm">Following</button>
                                % else:
                                <button onclick="follow(this)" value="{{user['user_id']}}" class="follow px-4 py-1 ml-auto bg-twitter-light-grey rounded-full font-semibold text-twitter-dark-grey text-sm">Follow</button>
                                % end
                                % end
                            </div>
                        </div>
                    </div>
                    <!-- cover + avatar end -->

                    <!-- info start -->
                    <div class="p-4 gap-4">
                        <div>
                            <div class="flex items-center">
                                <h2 id="lg_light_bold_txt" class="text-20 font-bold text-twitter-light-grey">{{user["user_first_name"]}} {{user["user_last_name"]}}</h2>    
                                % if user["user_verified"] == 1:
                                <div class="text-twitter-blue">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 20.396 11 c -0.018 -0.646 -0.215 -1.275 -0.57 -1.816 c -0.354 -0.54 -0.852 -0.972 -1.438 -1.246 c 0.223 -0.607 0.27 -1.264 0.14 -1.897 c -0.131 -0.634 -0.437 -1.218 -0.882 -1.687 c -0.47 -0.445 -1.053 -0.75 -1.687 -0.882 c -0.633 -0.13 -1.29 -0.083 -1.897 0.14 c -0.273 -0.587 -0.704 -1.086 -1.245 -1.44 S 11.647 1.62 11 1.604 c -0.646 0.017 -1.273 0.213 -1.813 0.568 s -0.969 0.854 -1.24 1.44 c -0.608 -0.223 -1.267 -0.272 -1.902 -0.14 c -0.635 0.13 -1.22 0.436 -1.69 0.882 c -0.445 0.47 -0.749 1.055 -0.878 1.688 c -0.13 0.633 -0.08 1.29 0.144 1.896 c -0.587 0.274 -1.087 0.705 -1.443 1.245 c -0.356 0.54 -0.555 1.17 -0.574 1.817 c 0.02 0.647 0.218 1.276 0.574 1.817 c 0.356 0.54 0.856 0.972 1.443 1.245 c -0.224 0.606 -0.274 1.263 -0.144 1.896 c 0.13 0.634 0.433 1.218 0.877 1.688 c 0.47 0.443 1.054 0.747 1.687 0.878 c 0.633 0.132 1.29 0.084 1.897 -0.136 c 0.274 0.586 0.705 1.084 1.246 1.439 c 0.54 0.354 1.17 0.551 1.816 0.569 c 0.647 -0.016 1.276 -0.213 1.817 -0.567 s 0.972 -0.854 1.245 -1.44 c 0.604 0.239 1.266 0.296 1.903 0.164 c 0.636 -0.132 1.22 -0.447 1.68 -0.907 c 0.46 -0.46 0.776 -1.044 0.908 -1.681 s 0.075 -1.299 -0.165 -1.903 c 0.586 -0.274 1.084 -0.705 1.439 -1.246 c 0.354 -0.54 0.551 -1.17 0.569 -1.816 Z M 9.662 14.85 l -3.429 -3.428 l 1.293 -1.302 l 2.072 2.072 l 4.4 -4.794 l 1.347 1.246 Z"/></svg>
                                </div>
                                % end
                            </div> 
                            <p class="text-15 text-twitter-grey">@{{user["user_name"]}}</p>                      
                        </div>

                        <div class="flex items-center text-twitter-grey gap-1 mt-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 7 4 V 3 h 2 v 1 h 6 V 3 h 2 v 1 h 1.5 C 19.89 4 21 5.12 21 6.5 v 12 c 0 1.38 -1.11 2.5 -2.5 2.5 h -13 C 4.12 21 3 19.88 3 18.5 v -12 C 3 5.12 4.12 4 5.5 4 H 7 Z m 0 2 H 5.5 c -0.27 0 -0.5 0.22 -0.5 0.5 v 12 c 0 0.28 0.23 0.5 0.5 0.5 h 13 c 0.28 0 0.5 -0.22 0.5 -0.5 v -12 c 0 -0.28 -0.22 -0.5 -0.5 -0.5 H 17 v 1 h -2 V 6 H 9 v 1 H 7 V 6 Z m 0 6 h 2 v -2 H 7 v 2 Z m 0 4 h 2 v -2 H 7 v 2 Z m 4 -4 h 2 v -2 h -2 v 2 Z m 0 4 h 2 v -2 h -2 v 2 Z m 4 -4 h 2 v -2 h -2 v 2 Z"/></svg>
                            <p id="joined_at" class="text-15">{{user["user_created_at"]}}</p> 
                        </div>

                        <div class="flex items-center gap-4 mt-2">
                            <!-- following -->
                            <div class="flex items-center gap-1">
                                <p class="tweet-number text-15 font-semibold text-twitter-light-grey">{{user["user_total_following"]}}</p> 
                                <p class="text-15 text-twitter-grey">Following</p> 
                            </div>
                            <!-- followers -->
                            <div class="flex items-center gap-1">
                                <p class="tweet-number text-15 font-semibold text-twitter-light-grey">{{user["user_total_followers"]}}</p> 
                                <p class="text-15 text-twitter-grey">Followers</p> 
                            </div>
                        </div>

                    </div>
                    <!-- info end -->

                    <!-- buttons start -->
                    <div class="flex justify-around text-center">
                        <a id="sm_light_bold_txt" href="" class="text-15 font-bold text-twitter-light-grey w-full hover:bg-twitter-light-grey hover:bg-opacity-10 p-4 transition duration-200 ease-in-out"><span class="border-b-4 pb-3 border-twitter-blue">Tweets</span></a>
                        <a id="dark_semibold_txt" href="" class="text-15 font-semibold text-twitter-grey w-full hover:bg-twitter-light-grey hover:bg-opacity-10 p-4 transition duration-200 ease-in-out">Replies</a>
                        <a id="dark_semibold_txt" href="" class="text-15 font-semibold text-twitter-grey w-full hover:bg-twitter-light-grey hover:bg-opacity-10 p-4 transition duration-200 ease-in-out">Media</a>
                        <a id="dark_semibold_txt" href="" class="text-15 font-semibold text-twitter-grey w-full hover:bg-twitter-light-grey hover:bg-opacity-10 p-4 transition duration-200 ease-in-out">Likes</a>
                    </div>
                    <!-- buttons end -->

                <!-- top end -->

                <!-- tweet start -->
                % for profile_tweet in profile_tweets:
                <div class="border-t border-twitter-line px-4 py-3">
                    <div class="inline-flex w-full gap-3">

                        <!-- left (user avatar + data) start -->
                        <div class="grid place-items-start w-1/12">
                            <img class="w-12 rounded-full" src="/images/avatars/{{profile_tweet['user_avatar']}}" alt="">
                        </div>
                        <!-- left (user avatar + data) end -->
                        
                        <!-- right start -->
                        <div class="w-11/12">

                            <!-- username + data start -->
                            <div class="w-full">
                                <div class="flex justify-between">
                                    <div class="inline-flex items-center gap-0.5 lg:gap-1">
                                        <p id="sm_light_bold_txt" class="text-15 font-bold text-twitter-light-grey hover:underline hover:cursor-pointer transition duration-200 ease-in-out">{{profile_tweet["user_first_name"]}}&nbsp{{profile_tweet["user_last_name"]}}</p>   
                                        
                                        % if get('profile_tweet["user_verified"]'):
                                        <div class="text-twitter-blue">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 20.396 11 c -0.018 -0.646 -0.215 -1.275 -0.57 -1.816 c -0.354 -0.54 -0.852 -0.972 -1.438 -1.246 c 0.223 -0.607 0.27 -1.264 0.14 -1.897 c -0.131 -0.634 -0.437 -1.218 -0.882 -1.687 c -0.47 -0.445 -1.053 -0.75 -1.687 -0.882 c -0.633 -0.13 -1.29 -0.083 -1.897 0.14 c -0.273 -0.587 -0.704 -1.086 -1.245 -1.44 S 11.647 1.62 11 1.604 c -0.646 0.017 -1.273 0.213 -1.813 0.568 s -0.969 0.854 -1.24 1.44 c -0.608 -0.223 -1.267 -0.272 -1.902 -0.14 c -0.635 0.13 -1.22 0.436 -1.69 0.882 c -0.445 0.47 -0.749 1.055 -0.878 1.688 c -0.13 0.633 -0.08 1.29 0.144 1.896 c -0.587 0.274 -1.087 0.705 -1.443 1.245 c -0.356 0.54 -0.555 1.17 -0.574 1.817 c 0.02 0.647 0.218 1.276 0.574 1.817 c 0.356 0.54 0.856 0.972 1.443 1.245 c -0.224 0.606 -0.274 1.263 -0.144 1.896 c 0.13 0.634 0.433 1.218 0.877 1.688 c 0.47 0.443 1.054 0.747 1.687 0.878 c 0.633 0.132 1.29 0.084 1.897 -0.136 c 0.274 0.586 0.705 1.084 1.246 1.439 c 0.54 0.354 1.17 0.551 1.816 0.569 c 0.647 -0.016 1.276 -0.213 1.817 -0.567 s 0.972 -0.854 1.245 -1.44 c 0.604 0.239 1.266 0.296 1.903 0.164 c 0.636 -0.132 1.22 -0.447 1.68 -0.907 c 0.46 -0.46 0.776 -1.044 0.908 -1.681 s 0.075 -1.299 -0.165 -1.903 c 0.586 -0.274 1.084 -0.705 1.439 -1.246 c 0.354 -0.54 0.551 -1.17 0.569 -1.816 Z M 9.662 14.85 l -3.429 -3.428 l 1.293 -1.302 l 2.072 2.072 l 4.4 -4.794 l 1.347 1.246 Z"/></svg>
                                        </div>
                                        % end
                                        
                                        <p id="dark_txt" class="text-15 text-twitter-grey">@{{profile_tweet["user_name"]}}</p>
                                        <p id="dark_txt" class="text-15 text-twitter-grey">∙</p>
                                        <p id="dark_txt" class="tweet-time text-15 text-twitter-grey hover:underline hover:cursor-pointer transition duration-200 ease-in-out">{{profile_tweet["tweet_created_at"]}}</p>
                                    </div>

                                    <!-- more start -->
                                    <div class="">
                                        <div class="relative">
                                            <div class="hover:bg-twitter-blue text-twitter-grey hover:text-twitter-blue hover:bg-opacity-15 rounded-full hover:cursor-pointer px-1 pb-1 transition duration-200 ease-in-out">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 3 12 c 0 -1.1 0.9 -2 2 -2 s 2 0.9 2 2 s -0.9 2 -2 2 s -2 -0.9 -2 -2 Z m 9 2 c 1.1 0 2 -0.9 2 -2 s -0.9 -2 -2 -2 s -2 0.9 -2 2 s 0.9 2 2 2 Z m 7 0 c 1.1 0 2 -0.9 2 -2 s -0.9 -2 -2 -2 s -2 0.9 -2 2 s 0.9 2 2 2 Z"/></svg>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- more end -->
                                </div>
                            </div>
                
                            <!-- username + data end -->
                            <div>
                        
                            <!-- tweet message start -->
                            <p id="sm_light_txt" class="text-15 text-twitter-light-grey word-wrap">{{profile_tweet["tweet_message"]}}</p>
                            <!-- tweet message end -->
                            % if profile_tweet["tweet_image"]:
                            <!-- tweet image start -->
                            <div class="pt-3 pb-1">
                                <img class="max-h-80 w-full object-cover object-center rounded-2xl border border-twitter-line hover:cursor-pointer" src="images/tweet_images/{{profile_tweet['tweet_image']}}" alt="">
                            </div>
                            <!-- tweet image end -->
                            % end
                            <!-- icons start -->
                            <div class="flex items-center justify-between text-twitter-light-grey md:w-10/12 lg:w-10/12">
                                <!-- comments start -->
                                <div class="flex items-center gap-0 lg:gap-1 group hover:cursor-pointer">
                                    <div class=" text-twitter-grey group-hover:bg-twitter-blue group-hover:bg-opacity-15 rounded-full p-2 group-hover:text-twitter-blue transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 1.751 10 c 0 -4.42 3.584 -8 8.005 -8 h 4.366 c 4.49 0 8.129 3.64 8.129 8.13 c 0 2.96 -1.607 5.68 -4.196 7.11 l -8.054 4.46 v -3.69 h -0.067 c -4.49 0.1 -8.183 -3.51 -8.183 -8.01 Z m 8.005 -6 c -3.317 0 -6.005 2.69 -6.005 6 c 0 3.37 2.77 6.08 6.138 6.01 l 0.351 -0.01 h 1.761 v 2.3 l 5.087 -2.81 c 1.951 -1.08 3.163 -3.13 3.163 -5.36 c 0 -3.39 -2.744 -6.13 -6.129 -6.13 H 9.756 Z"/></svg>
                                    </div>
                                    <span id="sm_dark_txt" class="tweet-number text-13 group-hover:text-twitter-blue text-twitter-grey">{{profile_tweet["tweet_total_comments"]}}</span>
                                </div>
                                <!-- comments end -->

                                <!-- retweets start -->
                                <div class="flex items-center gap-0 lg:gap-1 group hover:cursor-pointer">
                                    <div class="group-hover:text-twitter-green text-twitter-grey group-hover:bg-twitter-green group-hover:bg-opacity-15 rounded-full p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 4.5 3.88 l 4.432 4.14 l -1.364 1.46 L 5.5 7.55 V 16 c 0 1.1 0.896 2 2 2 H 13 v 2 H 7.5 c -2.209 0 -4 -1.79 -4 -4 V 7.55 L 1.432 9.48 L 0.068 8.02 L 4.5 3.88 Z M 16.5 6 H 11 V 4 h 5.5 c 2.209 0 4 1.79 4 4 v 8.45 l 2.068 -1.93 l 1.364 1.46 l -4.432 4.14 l -4.432 -4.14 l 1.364 -1.46 l 2.068 1.93 V 8 c 0 -1.1 -0.896 -2 -2 -2 Z"/></svg>
                                    </div>
                                    <span id="sm_dark_txt" class="tweet-number text-13 group-hover:text-twitter-green text-twitter-grey">{{profile_tweet["tweet_total_retweets"]}}</span>
                                </div>
                                <!-- retweets end -->

                                <!-- likes start -->
                                <div class="flex items-center gap-0 lg:gap-1 group hover:cursor-pointer">
                                    <div class="group-hover:text-twitter-red text-twitter-grey group-hover:bg-twitter-red group-hover:bg-opacity-15 rounded-full p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 16.697 5.5 c -1.222 -0.06 -2.679 0.51 -3.89 2.16 l -0.805 1.09 l -0.806 -1.09 C 9.984 6.01 8.526 5.44 7.304 5.5 c -1.243 0.07 -2.349 0.78 -2.91 1.91 c -0.552 1.12 -0.633 2.78 0.479 4.82 c 1.074 1.97 3.257 4.27 7.129 6.61 c 3.87 -2.34 6.052 -4.64 7.126 -6.61 c 1.111 -2.04 1.03 -3.7 0.477 -4.82 c -0.561 -1.13 -1.666 -1.84 -2.908 -1.91 Z m 4.187 7.69 c -1.351 2.48 -4.001 5.12 -8.379 7.67 l -0.503 0.3 l -0.504 -0.3 c -4.379 -2.55 -7.029 -5.19 -8.382 -7.67 c -1.36 -2.5 -1.41 -4.86 -0.514 -6.67 c 0.887 -1.79 2.647 -2.91 4.601 -3.01 c 1.651 -0.09 3.368 0.56 4.798 2.01 c 1.429 -1.45 3.146 -2.1 4.796 -2.01 c 1.954 0.1 3.714 1.22 4.601 3.01 c 0.896 1.81 0.846 4.17 -0.514 6.67 Z"/></svg>
                                    </div>
                                    <span id="sm_dark_txt" class="tweet-number text-13 group-hover:text-twitter-red text-twitter-grey">{{profile_tweet["tweet_total_likes"]}}</span>
                                </div>
                                <!-- likes end -->
                                
                                <!-- views start -->
                                <div class="flex items-center gap-1 group hover:cursor-pointer">
                                    <div class="group-hover:text-twitter-blue text-twitter-grey group-hover:bg-twitter-blue group-hover:bg-opacity-15 rounded-full p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 8.75 21 V 3 h 2 v 18 h -2 Z M 18 21 V 8.5 h 2 V 21 h -2 Z M 4 21 l 0.004 -10 h 2 L 6 21 H 4 Z m 9.248 0 v -7 h 2 v 7 h -2 Z"/></svg>
                                    </div>
                                    <span id="sm_dark_txt" class="tweet-number text-13 group-hover:text-twitter-blue text-twitter-grey">{{profile_tweet["tweet_total_views"]}}</span>
                                </div>
                                <!-- views end -->

                                <!-- share start -->
                                <div class="flex items-center group hover:cursor-pointer">
                                    <div class="group-hover:text-twitter-blue text-twitter-grey hover:bg-twitter-blue hover:bg-opacity-15 rounded-full p-2 transition duration-200 ease-in-out">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 12 2.59 l 5.7 5.7 l -1.41 1.42 L 13 6.41 V 16 h -2 V 6.41 l -3.3 3.3 l -1.41 -1.42 L 12 2.59 Z M 21 15 l -0.02 3.51 c 0 1.38 -1.12 2.49 -2.5 2.49 H 5.5 C 4.11 21 3 19.88 3 18.5 V 15 h 2 v 3.5 c 0 0.28 0.22 0.5 0.5 0.5 h 12.98 c 0.28 0 0.5 -0.22 0.5 -0.5 L 19 15 h 2 Z"/></svg>
                                    </div>
                                </div>
                                <!-- share end -->
                            
                            </div>
                            <!-- icons end -->
                            </div>
                        </div>
                        <!-- right end -->
                    </div>
                </div>
                % end
                <!-- tweet end -->

            </div>
            <!-- middle end -->
            
            
            <!-- right start -->
            % include("profile_right")
            <!-- right end -->

            % if not get('user_cookie'):
            % include("loginbanner")
            % end
        </div>
    </div>
    
    <section id="modal-update" class="hidden bg-black rounded-2xl p-2 mx-auto w-1/3 fixed inset-0 z-100 max-h-fit my-auto">
        <button id="closeModal" class="text-white" onclick="closeUpdateModal()"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m18 18l-6-6m0 0L6 6m6 6l6-6m-6 6l-6 6"/></svg></button>
            <div id="flex" class=" flex flex-col items-center">
                <span><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path fill="white" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 23.643 4.937 c -0.835 0.37 -1.732 0.62 -2.675 0.733 c 0.962 -0.576 1.7 -1.49 2.048 -2.578 c -0.9 0.534 -1.897 0.922 -2.958 1.13 c -0.85 -0.904 -2.06 -1.47 -3.4 -1.47 c -2.572 0 -4.658 2.086 -4.658 4.66 c 0 0.364 0.042 0.718 0.12 1.06 c -3.873 -0.195 -7.304 -2.05 -9.602 -4.868 c -0.4 0.69 -0.63 1.49 -0.63 2.342 c 0 1.616 0.823 3.043 2.072 3.878 c -0.764 -0.025 -1.482 -0.234 -2.11 -0.583 v 0.06 c 0 2.257 1.605 4.14 3.737 4.568 c -0.392 0.106 -0.803 0.162 -1.227 0.162 c -0.3 0 -0.593 -0.028 -0.877 -0.082 c 0.593 1.85 2.313 3.198 4.352 3.234 c -1.595 1.25 -3.604 1.995 -5.786 1.995 c -0.376 0 -0.747 -0.022 -1.112 -0.065 c 2.062 1.323 4.51 2.093 7.14 2.093 c 8.57 0 13.255 -7.098 13.255 -13.254 c 0 -0.2 -0.005 -0.402 -0.014 -0.602 c 0.91 -0.658 1.7 -1.477 2.323 -2.41 Z"/></svg></span>
                <span class="text-white text-23 font-bold mt-4">Change username</span>
                <input class="hidden" name="user_edit" value="{{user['user_name']}}"></input>
                <input type="text" name="username_update" placeholder="Username" class="rounded-xl p-2 mt-4 w-80">
                <button onclick="update()" class="bg-twitter-blue text-white rounded-3xl px-6 py-2 font-semibold w-80 mt-4 mb-8 hover:bg-opacity-90">Confirm</button>
            </div>
    </section>

<script>
    const modalUpdate = document.getElementById("modal-update")

    function updateModal() {
        const overlay = document.getElementById("overlay")
        modalUpdate.classList.remove("hidden")
        overlay.classList.remove("hidden")
        document.body.style.overflow = "hidden";
    }

    function closeUpdateModal() {
        modalUpdate.classList.add("hidden")
        overlay.classList.add("hidden")
        document.body.style.overflow = "scroll";
    }

    async function update(){
        const username = document.querySelector("input[name='username_update']").value
        const formData = new FormData();
        console.log(username, "her er bruger")
        formData.append('username', username);

        for (const value of formData.values()) {
            console.log(value);
        }

        const response = await fetch("/update", {
            method: "PUT", 
            body: formData
        })
        const data = await response.json()
        console.log("This is the right username", username)
        console.log("This is the data", data)

        closeUpdateModal()
        window.location.href= "/" + username
    }

    function follow() {
        const followee_id = document.getElementById("followButton").value
    }
</script>

<script src="/js/time.js"></script>
<script src="/js/numbers.js"></script>
<script src="/js/follow.js"></script>
</body>

</html>